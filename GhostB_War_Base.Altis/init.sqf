////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
//                           DESCRIPTION.EXT                                  //
//              this file is executed on both server and clients              //
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
//---------------------headless clients---------------------------------------//
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
//---------------------radom weather hope it works ---------------------------//
////////////////////////////////////////////////////////////////////////////////
//execVM "scripts\randomWeather.sqf";

////////////////////////////////////////////////////////////////////////////////
//---------------------radom start time---------------------------------------//
////////////////////////////////////////////////////////////////////////////////
if (isServer) then
{
myNewTime = random 24;
publicVariable "myNewTime";
};
waitUntil{not isNil "myNewTime"};
skipTime myNewTime;

////////////////////////////////////////////////////////////////////////////////
//---------------------VCOM AI      ------------------------------------------//
////////////////////////////////////////////////////////////////////////////////
/*
//Exec Vcom AI function
_vcom = [] execVM "Vcom\VcomInit.sqf";
waitUntil {scriptDone _vcom};
*/

//Globally disable VCOM_AI for Air units including Combat Support and Logistics. Put the following in init.sqf
[{{Driver _x setvariable ["NOAI",true];} foreach (vehicles select {_x isKindOf 'air'});}, 1, []] call CBA_fnc_addPerFrameHandler;
//End of Vcom commands



////////////////////////////////////////////////////////////////////////////////
//---------------------the rest     ------------------------------------------//
////////////////////////////////////////////////////////////////////////////////

//kill the rabbits
enableEnvironment [false, true];

//null = [my_search_light,true] execVM "ALambientbattle\aaa_search_light.sqf"

nul=[] execVM "scripts\IntLight.sqf";
// not needed with rhs

//execVM "scripts\PrykUav.sqf";

[] execVM "briefing.sqf";

0 = execVM "scripts\msk\[MSK]_HD.sqf";


_r0ed = [] execVM "r0ed_SurvivableCrashes\init.sqf";
waitUntil {scriptDone _r0ed};

call compile preprocessFileLineNumbers "Taxi\taxi_init.sqf";


/*
_script = [] execVM "scripts\GiveDirections.sqf";
waitUntil {scriptDone _script;};
*/

////////////////////////////////////////////////////////////////////////////////
//---------------------add on free radio--------------------------------------//
////////////////////////////////////////////////////////////////////////////////
_afar = [] execVM "AFAR\init.sqf";
waitUntil {scriptDone _afar};


////////////////////////////////////////////////////////////////////////////////
//---------------------Alive        ------------------------------------------//
////////////////////////////////////////////////////////////////////////////////
waituntil {(player getvariable ["alive_sys_player_playerloaded",false])};
waitUntil {!isNil "ALIVE_profileSystemInit"};

waituntil {(player getvariable ["alive_sys_player_playerloaded",false])};

////////////////////////////////////////////////////////////////////////////////
//---------------------                 --------------------------------------//
////////////////////////////////////////////////////////////////////////////////
